{
  "$schema": "https://opencode.ai/config.json",
  "theme": "opencode",
  "model": "anthropic/claude-sonnet-4-20250514",
  "instructions": [
    "CONTRIBUTING.md",
    "docs/*.md",
    ".cursor/rules/*.md",
    ".roo/rules-code/*.md",
    "AGENTS.md"
  ],
  "mcp": {
    "context7": {
      "type": "local",
      "command": ["npx", "-y", "@upstash/context7-mcp"],
      "enabled": true
    },
    // "react-native-guide": {
    //   "type": "local",
    //   "command": ["npx", "@mrnitro360/react-native-mcp-guide@1.1.0"]
    // },
    // "react-native-debugger": {
    //   "type": "local",
    //   "command": ["npx", "-y", "@twodoorsdev/react-native-debugger-mcp"],
    //   "environment": {}
    // },
    // "mobile-automation": {
    //   "type": "local",
    //   "command": ["npx", "-y", "@mobilenext/mobile-mcp@latest"],
    //   "environment": {}
    // },
    "web-reader": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_reader/mcp",
      "headers": {
        "Authorization": "Bearer 5b282d20d4ee4f6fa38c1aa916737609.yYMFdoe4vJVviNYc"
      }
    },
    "web-search-prime": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_search_prime/mcp",
      "headers": {
        "Authorization": "Bearer 5b282d20d4ee4f6fa38c1aa916737609.yYMFdoe4vJVviNYc"
      }
    },
    "zai-vision": {
      "type": "local",
      "command": ["npx", "-y", "@z_ai/mcp-server"],
      "enabled": true,
      "environment": {
        "Z_AI_API_KEY": "e2419083b6f64de885a102aa2bd4a05e.EInxt7Yr0CpTCyLy",
        "Z_AI_MODE": "ZAI"
      }
    },

    "sqlite": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@modelcontextprotocol/server-sqlite",
        "/Users/kd/repos/print/print-farm/print-farm.db"
      ]
    }
    // "zai-mcp-server": {
    //   "type": "local",
    //   "command": ["npx", "-y", "@z_ai/mcp-server"],
    //   // "env": {
    //   //   "Z_AI_API_KEY": "your_api_key",
    //   //   "Z_AI_MODE": "ZAI"
    //   // }
    // }
    // "expo-server": {
    //   "type": "local",
    //   "command": ["npx", "-y", "expo-mcp-server"],
    //   "environment": {}
    // }
  }

  // "agent": {
  //   // ============================================================================
  //   // DISTILLED AGENT FRAMEWORK
  //   // 11 specialized agents for fullstack web development
  //   // React, Next.js, Svelte, SvelteKit + Node.js + PostgreSQL
  //   // ============================================================================
  //
  //   // ============================================================================
  //   // CORE DEVELOPMENT AGENTS (5)
  //   // Use these for implementation and feature development
  //   // ============================================================================
  //
  //   // 1) FULLSTACK SPECIALIST – End-to-end feature development
  //   // Use when: Building complete features (database → API → UI)
  //   // Expertise: Node.js backend, API design, database, authentication, WebSockets
  //   "fullstack-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/fullstack-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 2) SVELTE/SVELTEKIT.JS SPECIALIST
  //   // Use when: Building Svelte components and pages
  //   "svelte-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/svelte-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 2) REACT/NEXT.JS SPECIALIST – Frontend implementation
  //   // Use when: Building React/Next.js/Svelte components and pages
  //   // Expertise: React 18+, Next.js 14+ App Router, SSR/SSG, performance, SEO
  //   "react-nextjs-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/react-nextjs-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 3) TYPESCRIPT EXPERT – Type safety and advanced types
  //   // Use when: Designing type-safe APIs, complex types, build optimization
  //   // Expertise: TypeScript 5+, full-stack type safety, tRPC, generics
  //   "typescript-expert": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/typescript-expert.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 4) DATABASE SPECIALIST – Schema design and query optimization
  //   // Use when: Database design, slow queries, migrations, N+1 problems
  //   // Expertise: PostgreSQL, MySQL, Prisma, Drizzle, query optimization
  //   "database-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/database-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 5) UI/UX DESIGNER – Design systems and component specs
  //   // Use when: Creating design systems, component specifications, responsive design
  //   // Expertise: Design systems, accessibility (WCAG), responsive design, Figma
  //   "ui-ux-designer": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/ui-ux-designer.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": false
  //     }
  //   },
  //
  //   // ============================================================================
  //   // QUALITY & OPERATIONS AGENTS (4)
  //   // Use these for testing, deployment, security, and performance
  //   // ============================================================================
  //
  //   // 6) QA/TEST SPECIALIST – Testing and code review
  //   // Use when: Writing tests, code review, achieving coverage goals
  //   // Expertise: Jest/Vitest, React Testing Library, Playwright, code review
  //   "qa-test-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/qa-test-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 7) DEVOPS SPECIALIST – CI/CD and deployment
  //   // Use when: Setting up deployments, CI/CD pipelines, Docker, environment config
  //   // Expertise: Vercel, Netlify, GitHub Actions, Docker, environment management
  //   "devops-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/devops-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": true,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 8) SECURITY SPECIALIST – Security audits and authentication
  //   // Use when: Security audits, implementing auth, OWASP Top 10, securing APIs
  //   // Expertise: OWASP Top 10, OAuth/JWT, NextAuth, input validation, XSS/CSRF
  //   "security-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/security-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": false,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 9) PERFORMANCE SPECIALIST – Performance optimization
  //   // Use when: Improving page load, Core Web Vitals, bundle size, slow queries
  //   // Expertise: Core Web Vitals, bundle optimization, React optimization, caching
  //   "performance-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/performance-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": false,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // ============================================================================
  //   // SPECIALIZED SUPPORT AGENTS (2)
  //   // Use these for investigation and accessibility
  //   // ============================================================================
  //
  //   // 10) ACCESSIBILITY SPECIALIST – WCAG compliance and inclusive design
  //   // Use when: Accessibility audits, WCAG compliance, screen reader testing
  //   // Expertise: WCAG 2.1 AA/AAA, screen readers, keyboard navigation, ARIA
  //   "accessibility-specialist": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/accessibility-specialist.md}",
  //     "policies": {
  //       "canWriteFiles": false,
  //       "canRunCommands": true
  //     }
  //   },
  //
  //   // 11) RESEARCHER – Technical investigation and documentation research
  //   // Use when: Investigating bugs, evaluating libraries, finding best practices
  //   // Expertise: Multi-source research, root cause analysis, library evaluation
  //   // Tools: MCP documentation (Context7, Svelte, shadcn/ui), web search
  //   "researcher": {
  //     "mode": "subagent",
  //     "prompt": "{file:./agent/researcher.md}",
  //     "policies": {
  //       "canWriteFiles": false,
  //       "canRunCommands": true
  //     }
  //   }
  //
  //   // ============================================================================
  //   // RECOMMENDED WORKFLOWS
  //   // ============================================================================
  //   //
  //   // NEW FEATURE DEVELOPMENT:
  //   // 1. fullstack-specialist → Design API and data model
  //   // 2. database-specialist → Optimize schema and queries
  //   // 3. typescript-expert → Create shared types
  //   // 4. react-nextjs-specialist → Implement UI
  //   // 5. qa-test-specialist → Write tests
  //   // 6. security-specialist → Review security
  //   // 7. devops-specialist → Deploy
  //   //
  //   // INVESTIGATING A BUG:
  //   // 1. researcher → Investigate error, find root cause
  //   // 2. fullstack-specialist → Implement fix
  //   // 3. qa-test-specialist → Add regression tests
  //   // 4. security-specialist → Review (if applicable)
  //   //
  //   // PERFORMANCE OPTIMIZATION:
  //   // 1. performance-specialist → Identify bottlenecks
  //   // 2. researcher → Research optimization techniques
  //   // 3. database-specialist → Optimize queries
  //   // 4. react-nextjs-specialist → Optimize components
  //   // 5. devops-specialist → Configure CDN/caching
  //   //
  //   // EVALUATING NEW LIBRARY:
  //   // 1. researcher → Compare options, recommend solution
  //   // 2. typescript-expert → Set up types and configuration
  //   // 3. react-nextjs-specialist → Integrate into application
  //   // 4. qa-test-specialist → Test integration
  //   //
  //   // ============================================================================
  // }
}
/*
Why this works

Cost control by default: Haiku + 5-mini + Grok cover most cases with tool-calling and good quality.

Premium only on pressure: Clear, automatic “burst” triggers based on repo size, diff size, or repeated failures.

Task–model fit:

Grok Code Fast 1 is tuned for code loops.

GPT-5-mini is a strong, cheap workhorse for planning/details/tests.

Claude Haiku 4.5 is excellent for concise reviews/UX notes at low cost.

GPT-5 / Sonnet 4.5 / 5-Codex are reserved for large-context or tough cycles.
*/
