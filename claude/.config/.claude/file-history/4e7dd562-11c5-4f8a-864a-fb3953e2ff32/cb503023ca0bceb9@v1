<script lang="ts">
	import Button from '@/components/ui/button/button.svelte';
	import { dialogsStore } from '@/state/dialogs.store.svelte';

	type Props = {
		isLargeScreen: boolean;
		isOpen: boolean;
		toggleSidebar: () => void;
		onCreatePage: (title: string, parentPageId?: string) => void;
	};

	let { isLargeScreen, isOpen = $bindable(), toggleSidebar, onCreatePage }: Props = $props();
</script>

{#if isLargeScreen}
	<div class="flex items-center gap-2 border-b border-gray-200 p-2">
		<Button onclick={toggleSidebar} aria-label="Toggle sidebar">
			{#if isOpen}
				<svg
					xmlns="http://www.w3.org/2000/svg"
					class="h-5 w-5"
					fill="none"
					viewBox="0 0 24 24"
					stroke="currentColor"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M11 19l-7-7 7-7m8 14l-7-7 7-7"
					/>
				</svg>
			{:else}
				<svg
					xmlns="http://www.w3.org/2000/svg"
					class="h-5 w-5"
					fill="none"
					viewBox="0 0 24 24"
					stroke="currentColor"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M13 5l7 7-7 7M5 5l7 7-7 7"
					/>
				</svg>
			{/if}
		</Button>
		<Button onclick={() => dialogsStore.openNewPageDialog()}>Create Page</Button>
	</div>
{/if}
